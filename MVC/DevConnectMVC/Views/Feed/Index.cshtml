 @model List<DevConnect.Models.TbPublicacao>;
 @using DevConnect.Controllers;
@using Microsoft.IdentityModel.Tokens
 @{
    ViewData["Title"] = "DevConnect - Feed";
}
 <link rel="stylesheet" href="~/css/feed.css" />
 <link rel="stylesheet" href="~/css/perfil.css" />
 <script defer>
    const PublicacaoCadastrada = "@ViewBag.PublicacaoCadastrada"
    if (PublicacaoCadastrada == "Nao cadastrada") {
        alert("N√£o foi poss√≠vel criar a publica√ß√£o! Tente Novamente üò¢");
    }else if (PublicacaoCadastrada == "Cadastrada") {
        alert("Publica√ß√£o criada com sucesso! üéâ");
}
</script>
 <h1>Tela Feed - DevConnect</h1>

     <!-- Header -->
    <header id="cabecalho">
        <nav>
            
            <a id="logo-pc" asp-controller="Feed" asp-action="Index">
                <img src="/images/DevConnect logo 1.svg" alt="Logo da empresa DevConnect">
            </a>
            <a id="logo-mobile" asp-controller="Feed" asp-action="Index">
                <img src="/images/DevCon logo.svg" alt="Logo da empresa DevConnect">
            </a>
        </nav>
        <div class="cabecalho-acoes">
            <a asp-controller="Feed" asp-action="Index"><img src="/images/casa azul.svg" alt=""></a>
            <a href="#"><img src="/images/coracao azul.svg" alt=""></a>
            <a asp-controller="Usuario" asp-action="Perfil"><img class="foto-perfil"  src="/images/cassio.webp" alt="Foto de perfil"></a>
        </div>
    </header>

    <!-- Main -->
    <main>
       <div class="container-flex-publi">
        <section id="stories" class="estilo-formulario">
            <article class="card-story"> 
                <a href="#"><img  src="/images/cassio.webp" alt="Foto de perfil">
                    <span>goleiro_calssio</span>
                    </a>
            </article>
            <article class="card-story"> 
                <a href="#"><img  src="/images/Eu Lindao.png" alt="Foto de perfil">
                    <span>Barney</span>
                    </a>
            </article>
            <article class="card-story"> 
                <a href="#"><img  src="/images/Jo√£o Gat√£o.JPG" alt="Foto de perfil">
                    <span>joao_lindao</span>
                    </a>
            </article>
            <article class="card-story"> 
                <a href="#"><img  src="/images/Eloysa.jpg" alt="Foto de perfil">
                    <span>eloysa</span>
                    </a>
            </article>
            <article class="card-story"> 
                <a href="#"><img  src="/images/Lulinha.png" alt="Foto de perfil">
                    <span>lulinha13</span>
                    </a>
            </article>
            <article class="card-story"> 
                <a href="#"><img  src="/images/Matheus Lima.png" alt="Foto de perfil">
                    <span>matheus_lima</span>
                    </a>
            </article>
            <article class="card-story"> 
                <a href="#"><img  src="/images/Faust√£o.png" alt="Foto de perfil">
                    <span>faustinho</span>
                    </a>
            </article>
            <article class="card-story"> 
                <a href="#"><img  src="/images/Willian Bonner.png" alt="Foto de perfil">
                    <span>willian_bonner</span>
                    </a>
            </article>

        </section>
        <section id="cadastro-publi">
            <h2>Publica√ß√£o</h2>
            <form asp-action="Index" asp-controller="Feed" enctype="multipart/form-data">
                <textarea name="Descricao" placeholder="Digite a descri√ß√£o do post..." id="" required></textarea>

                <footer>
                <div>
                     <label for="arquivo" class="botao-upload">Fa√ßa o upload da sua imagem</label>
                    <input type="file" id="arquivo" name = "imagem">
                </div>
                <button type="submit" class="formulario-botao-azul">Postar</button>
                </footer>

            </form>
        </section>

        <section id="publicacoes">
        @foreach (TbPublicacao publicacoes in Model){
            if(!publicacoes.ImagemUrl.IsNullOrEmpty()){
        <article class="card-publi">
           <header>
            <a href="#">
                <img class="foto-perfil" src="~/images/@publicacoes.IdUsuarioNavigation?.FotoPerfilUrl" alt="">
                @publicacoes.IdUsuarioNavigation?.NomeUsuario
            </a>
           </header>
<figure>

    <img class="imagem-publi" src=~/images/@publicacoes.ImagemUrl alt="">
    <figcaption class="descricao-publicacao">
        <p>@publicacoes.Descricao <br>
        @publicacoes.DataPublicacao</p>
    </figcaption>
    <div class="interacoes-publi">
        <button>
            <img src="/images/coracao preto.svg" alt="">
        </button>
        <button>
            <img src="/images/mensagem preto.svg" alt="">
        </button>
        <span>8,11 bilh√µes curtidas</span>
    </div>
    
</figure>
<button type="button">
    Ver mais coment√°rios...
</button>
        </article>
        }else{
            <article class="card-publi">
                    <header>
                        <a href="#">
                            <img class="foto-perfil" src="../images/cassio.webp" alt="">
                            goleiro_calssio
                        </a>
                    </header>
                    <figure>
                        <h4>@publicacoes.Descricao</h4>
                        <figcaption class="descricao-publicacao">
                            <p>@publicacoes.DataPublicacao</p>
                        </figcaption>
                        <div class="interacoes-publi">
                            <button>
                                <img src="../images/coracao preto.svg" alt="">
                            </button>
                            <button>
                                <img src="../images/mensagem preto.svg" alt="">
                            </button>
                            <span>8,11 bilh√µes curtidas</span>
                        </div>
                    </figure>
                    <button type="button">
                        Ver mais coment√°rios...
                    </button>
                </article>
        }

        }</section> 
       </div>
    </main>